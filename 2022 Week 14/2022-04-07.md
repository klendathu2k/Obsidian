- JInlong's Embedding Issue...
	- Issue found yesterday has to do with the simulation stage... FZD file contains completely empty events.  St_geant_Maker does not see an EOF so continues to read in.  EMC simulator maker holds a stale pointer to an EMC collection, which then tries to be added to StEvent and kaboom.
	- Problem is with the simulation. 
	- simLamFilt.kumac is the simulation file...  I don't see any issues
	- I am at the level of guessing what went wrong.  I suspect that a very corrupt vertex position was used as input to the simulation...
	- [Logfiles etc...](https://chat.sdcc.bnl.gov/star/pl/q1hupr4k17re78t3sy61641rke)
	- Looks like something happened and we have exhausted the memory in GEANT.  AgNEED reports an error.  
	- This is likely correlated to running with extreme eta range (-10,+10)... 
		- **Narrowing this down should fix the problem.**
	- Also, Jinlong appears to be generating his signal vertices at the position of the accidental pileup vertices.  (Diff between HI and pp embedding)

- [Process is the Problem](https://www.youtube.com/watch?v=UsatcY5CvAQ) 5m lightning talk from cppcon 21... well worth remembering...

- sPHENIX production system
	- cwl-runner runs under a temporary directory which will probably *not* be on a disk that I want it to be under... may not have sufficient temporary space to execute the jobs.
	- this is configurable... executing TEMP=.; shrek/shrek.cwl ... will prefix the temp path with the current working directory, placing it relative to the point where the job lands on the owrker node.
	- This will probably be annoying b/c the temp directory under which the job runs will not be the directory in which I want it to run (the PanDA staged codes will be up one...  BAH.)
	- Simple solution would be to just execute an `ln -s ../* .` ... but this feels like a complete and utter hack at this point.  Dangerous.  Fragile.
	- Seems like it is one hack too far...  so...
	- Doing the script generation as a pre-submission step seems to be more promising... and this may solve another issue where I don't like PanDA's default behavior.... read on...
	- cwl-runner executes in an empty environment and temporary directory.  It is up to the user to specify (explicitly through InitialWorkDir requirement, or implictly through declaring files as part of a depdency) what files need to be transferred into the running area.  So...
	- If we create a shrek-submit.cwl workflow... then we can have complete control over the files which get packed and shipped to the worker nodes.  Which again makes it easy (easier anyway) to track down mistakes and misconfigurations.....
	- In fact... the codes which are actually run are required as part of the documenation....  
	 
	- [Conditional workflow](https://panda-wms.readthedocs.io/en/latest/client/pchain.html#conditional-workflow) is supported... 
		- along with javascript expressions... 
		- can use to control whether prun is executed with --nJobs flag, or with other control flags...