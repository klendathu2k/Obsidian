## Friday {{date}}

- [ ] 1000AM [NPPS Weekly Meeting](https://docs.google.com/document/d/1YfTyXPeXNQU4XUB28bvHJolgyBIJ2bfrd0u9Gd3WD70/edit)[zoom](https://bnl.zoomgov.com/j/16157150845?pwd=NXNqTi9ZWEFBKzYwRXQ5U3NXU1dBZz09)
- [ ] TODO: Weekly Summary


sPHENIX

Need to be able to script runs... e.g. define a command line parameter and have it picked up by the job specifications.

Basic idea here is to establis

```
--command=value
```

Gets exported as environment variables in the scripts as

```
$shrek_command = value
```

Easily implemented.  Now any `Parameter` block can refer to a variable defined on the command line.  e.g.

`shrek-submit ... NCharmEvents=1000 NMinBEvents=100`

and the script will have `$NCharmEvents` and `NMinBEvents` avaliable.

...

Test job w/ merge step added...
https://panda-doma.cern.ch/tasks/?jeditaskid=133752|133748|133747

The idea motivating this feature is that after a dataset is produced, we can execute the "merge" shell to utilize rucio to close the input dataset, and produce a summary output log as the output set.

...

As far as I can tell, the merge did not happen...

```
jwebb2@sphnx02 [Sat Sep 03]$ rucio ls user.jwebb2:*simple21*2af6*
+-----------------------------------------------------------------------------------------------------+-------------------+
| SCOPE:NAME                                                                                          | [DID TYPE]        |
|-----------------------------------------------------------------------------------------------------+-------------------|
| user.jwebb2:user.jwebb2.simple21-6a63ddda-2af6-11ed-8622-00163e101048_001_top2_top2outDS.tar.38247  | DIDType.DATASET   |
| user.jwebb2:user.jwebb2.simple21-6a63ddda-2af6-11ed-8622-00163e101048_000_top1_top1outDS.tar.38246  | DIDType.DATASET   |
| user.jwebb2:user.jwebb2.simple21-6a63ddda-2af6-11ed-8622-00163e101048_001_top2_top2outDS.tar        | DIDType.CONTAINER |
| user.jwebb2:user.jwebb2.simple21-6a63ddda-2af6-11ed-8622-00163e101048_000_top1_top1outDS.tar        | DIDType.CONTAINER |
| user.jwebb2:user.jwebb2.simple21-6a63ddda-2af6-11ed-8622-00163e101048_000_top1.log.38249            | DIDType.DATASET   |
| user.jwebb2:user.jwebb2.simple21-6a63ddda-2af6-11ed-8622-00163e101048_001_top2.log.38248            | DIDType.DATASET   |
| user.jwebb2:user.jwebb2.simple21-6a63ddda-2af6-11ed-8622-00163e101048_001_top2.log                  | DIDType.CONTAINER |
| user.jwebb2:user.jwebb2.simple21-6a63ddda-2af6-11ed-8622-00163e101048_000_top1.log                  | DIDType.CONTAINER |
| user.jwebb2:user.jwebb2.simple21-6a63ddda-2af6-11ed-8622-00163e101048_002_bottom_results.root.38261 | DIDType.DATASET   |
| user.jwebb2:user.jwebb2.simple21-6a63ddda-2af6-11ed-8622-00163e101048_002_bottom_results.root       | DIDType.CONTAINER |
| user.jwebb2:user.jwebb2.simple21-6a63ddda-2af6-11ed-8622-00163e101048_002_bottom.log.38262          | DIDType.DATASET   |
| user.jwebb2:user.jwebb2.simple21-6a63ddda-2af6-11ed-8622-00163e101048_002_bottom.log                | DIDType.CONTAINER |
+-----------------------------------------------------------------------------------------------------+-------------------+
```

There is no "merge" data set produced, and I do not see the log file that the merge script should have created.