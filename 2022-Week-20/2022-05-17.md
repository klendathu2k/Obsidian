## Tuesday {{date}}

- [ ] 0100PM [NPPS Distributed Software](https://docs.google.com/document/d/1L8DAzhCwpVoRM_WptpZFKqJev4-odk4xDl5rDK6JMYs/edit#heading=h.d6jxgv7ina59)[zoom](https://bnl.zoomgov.com/j/16157150845?pwd=NXNqTi9ZWEFBKzYwRXQ5U3NXU1dBZz09)

Issue yesterday was that there was a mismatch between the input and output  definitions... even when using wildcards...

Ran to completion...

$ cat /sphenix/u/sphnxpro/shrek/runPileup-1.input
Signal: user.jwebb2.66702._000001.G4XYZ.root.tgz
Background: %IN2


1) Looks like the input file is available as G4XYZ.root.tgz.  The wildcard is replaced w/ XYZ... (cute)
	- Should add code to the shell script to unpack.
2) Something is not quite right with the background...  

The pileup job is presented with the following set of tgz files...

user.jwebb2.66702._000001.G4XYZ.root.tgz
user.jwebb2.66703._000001.G4XYZ.root.tgz
user.jwebb2.66703._000002.G4XYZ.root.tgz

THIS IS FREAKING ANNOYING!  Or is it?  Once I get the %IN2 sorted out...

Should be able to build up the background list...

many=(`tar xvzf many.tar.gz`)
many=(${many[@]} `tar xvzf many1.tar.gz`)
many=(${many[@]} `tar xvzf many2.tar.gz`)
...

Okay... panda documentation inconsistency???

https://panda-wms.readthedocs.io/en/latest/client/pchain.html#more-complicated-chain

```
 premix:
 run: prun
 ...
 opt_args:
 default: "--outputs klm.root --secondaryDSs %IN2:2:%{DS1}"
 ...
 ```

Versus secondararyDSs in prun command...

https://panda-wms.readthedocs.io/en/latest/client/prun.html#how-to-use-multiple-input-datasets

```
prun --exec "test %IN %IN2 %IN3" --secondaryDSs IN2:3:data19.106017.gg2WW0240_JIMMY_WW_taunutaunu.recon.AOD.e371_s462_r563/,IN3:2:mc08.105200.T1_McAtNlo_Jimmy.recon.AOD.e357_s462_r541/ --inDS ...
```

![[Pasted image 20220517131111.png]]

https://www.pinterest.com/pin/82261130679839849/



